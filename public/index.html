<!doctype html>
<html>
<head>
	<title>Elmono</title>
  <!--Import Google Icon Font-->
  <link href="/fonts/material.css" rel="stylesheet">
  <!--Import materialize.css-->
  <link type="text/css" rel="stylesheet" href="/libs/materialize/dist/css/materialize.min.css"  media="screen,projection"/>

  <!--Let browser know website is optimized for mobile-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
</head>

<body class="">

  <nav>
    <div class="nav-wrapper orange darken-3">
      <a href="#" class="brand-logo center">Elmono</a>
    </div>
  </nav>
  <br>
  <br>
  <div class="container">      
  <div class="row">
    <form class="col s12 m8 l6 offset-l3 offset-m2" action="/transform" method="post" id="form" enctype="multipart/formdata">
    	<div class="header">
    		<h6 class="title" style="text-transform: uppercase">DB Connection Config:</h6>
    	</div>
    	<br>
      <div class="row">
        <div class="input-field col s12">
			    <select id="connection" name="connection" required>
			      <option value="" disabled selected>Choose your DB Server</option>
			      <option value="sqlserver">MS SQL Server</option>
			      <option value="oracle" disabled>Oracle DB Server</option>
			      <option value="mysql">MySQL/MariaDB</option>
			    </select>
          <label for="connection">DB Server</label>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s6">
          <input id="user" type="text" class="validate" required>
          <label for="user">Server Username</label>
        </div>
        <div class="input-field col s6">
          <input id="pass" name="pass" type="text" class="validate" required>
          <label for="pass">Server Password</label>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
          <input name="host" id="host" type="text"  class="validate" required>
          <label for="host">Server Host</label>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
          <input name="database" id="database" type="text"  class="validate" required>
          <label for="database">Database Name</label>
        </div>
      </div>
      <div class="row">
        <div class="col s12">
			    <p>
			      <input type="checkbox" name="encrypt" value='true' id="encrypt"  required/>
			      <label for="encrypt">My Server is hosted on Windows Azure.</label>
			    </p>
        </div>
      </div>
      <br>
    	<div class="header">
    		<h6 class="title" style="text-transform: uppercase">Table Configuration:</h6>
    	</div>
    	<br>
      <div class="row">
        <div class="input-field col s12">
          <input id="table_name" name="table_name" type="text" class="validate" required>
          <label for="table_name">Table Name</label>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
          <input id="fields" type="text" name="fields" placeholder="Use comma to separate each field (eg: account, dob)" class="validate" required>
          <label for="fields">Columns to import.</label></label>
        </div>
      </div>
      <br>
    	<div class="header">
    		<h6 class="title" style="text-transform: uppercase">Excel Configuration:</h6>
    	</div>
    	<br>
      <div class="row">
		    <div class="file-field input-field" style="cursor: pointer;">
		      <div class="btn grey">
		        <span>File</span>
		        <input type="file" accept=".xls|.csv|.xlsx" name="file"  style="cursor: pointer;" required>
		      </div>
		      <div class="file-path-wrapper">
		        <input class="file-path validate"  type="text" placeholder="Upload file" required>
		      </div>
		    </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
          <input id="id" name="ref" type="text" placeholder="Enter the unique field in the excel sheet that maps to a unique field in the table above." class="validate" required>
          <label for="id">Unique Field</label></label>
        </div>
      </div>
      <div class="row">
        <div class="right">
          <button type="submit" class="btn orange darken-3">Update Excel</button>
        </div>
      </div>
    </form>
  </div>
  </div>
  <!--Import jQuery before materialize.js-->
  <script type="text/javascript" src="/libs/jquery/dist/jquery.min.js"></script>
  <script type="text/javascript" src="/libs/materialize/dist/js/materialize.min.js"></script>
  <script type="text/javascript" src="/libs/jquery-form/jquery.form.js"></script>
  <script>
	  $(document).ready(function() {
	    $('select').material_select();
      $("#form").ajaxForm({

        beforeSerialize: function($form, options) {
          console.log($form);
        },

        beforeSubmit: function(arr, $form, options) {
          console.log(arr, $form, options)
        },

        clearForm: true,
        dataType: 'json',

        error: function(err) {
          console.log(err);
        },

        success: function(res, status, xhr, $jquery) {
          console.log((res, status, xhr, $jquery));
        }
      })
	  });			
  </script>
</body>
</html>
    